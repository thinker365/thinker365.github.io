(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{550:function(t,s,a){"use strict";a.r(s);var e=a(35),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#概念对比"}},[t._v("概念对比")])]),a("li",[a("a",{attrs:{href:"#查询"}},[t._v("查询")]),a("ul",[a("li",[a("a",{attrs:{href:"#match-all"}},[t._v("match_all")])]),a("li",[a("a",{attrs:{href:"#multi-match"}},[t._v("multi_match")])]),a("li",[a("a",{attrs:{href:"#match"}},[t._v("match")])]),a("li",[a("a",{attrs:{href:"#bool"}},[t._v("bool")])]),a("li",[a("a",{attrs:{href:"#term-range"}},[t._v("term/range...")])])])]),a("li",[a("a",{attrs:{href:"#python-api"}},[t._v("python API")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"概念对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概念对比"}},[t._v("#")]),t._v(" 概念对比")]),t._v(" "),a("ol",[a("li",[t._v("Other DB\ndatabases--\x3etables--\x3erows--\x3ecolumns--\x3eschema")]),t._v(" "),a("li",[t._v("Elasticsearch\nindices--\x3etypes--\x3edocuments--\x3efields--\x3emapping")])]),t._v(" "),a("h2",{attrs:{id:"查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询"}},[t._v("#")]),t._v(" 查询")]),t._v(" "),a("h3",{attrs:{id:"match-all"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#match-all"}},[t._v("#")]),t._v(" match_all")]),t._v(" "),a("h3",{attrs:{id:"multi-match"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#multi-match"}},[t._v("#")]),t._v(" multi_match")]),t._v(" "),a("ol",[a("li",[t._v("query")]),t._v(" "),a("li",[t._v("type")]),t._v(" "),a("li",[t._v("fields")])]),t._v(" "),a("h3",{attrs:{id:"match"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#match"}},[t._v("#")]),t._v(" match")]),t._v(" "),a("p",[t._v("fields")]),t._v(" "),a("h3",{attrs:{id:"bool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bool"}},[t._v("#")]),t._v(" bool")]),t._v(" "),a("ol",[a("li",[t._v("must")]),t._v(" "),a("li",[t._v("filter\n"),a("ul",[a("li",[t._v("term")]),t._v(" "),a("li",[t._v("terms")]),t._v(" "),a("li",[t._v("range\n"),a("ul",[a("li",[t._v("gt")]),t._v(" "),a("li",[t._v("gte")]),t._v(" "),a("li",[t._v("lte")]),t._v(" "),a("li",[t._v("lt")])])])])]),t._v(" "),a("li",[t._v("should")]),t._v(" "),a("li",[t._v("must_not")])]),t._v(" "),a("h3",{attrs:{id:"term-range"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#term-range"}},[t._v("#")]),t._v(" term/range...")]),t._v(" "),a("h2",{attrs:{id:"python-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python-api"}},[t._v("#")]),t._v(" python API")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('import random\nfrom elasticsearch import Elasticsearch\n\nes = Elasticsearch(hosts=\'http://10.0.13.221:9200\')\nip_fingerprint_doc = {\n    "ip": \'111.53.136.159\',\n    "tags": [random.choice(["独立IP", "CDN", "云服务"])],\n}\nres = es.index(index="ip_fingerprint", id=1, body=ip_fingerprint_doc)\nprint(res[\'result\'])\n\nres = es.get(index="ip_fingerprint", id=1)\nprint(res[\'_source\'])\n\nres = es.search(index="ip_fingerprint", body={"query": {"match_all": {}}})\nprint("Got %d Hits:" % res[\'hits\'][\'total\'][\'value\'])\nfor hit in res[\'hits\'][\'hits\']:\n    print(hit["_source"])\n\nres = es.delete(index="ip_fingerprint", id=1)\nprint(res[\'result\'])\n\nres = es.delete_by_query(index="ip_fingerprint", body={\n    "query": {\n        "match": {\n            \'ip\': \'23.15.110.127\'\n        }\n    }\n})\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br")])]),a("ul",[a("li",[t._v("参考")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ES官方文档"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://elasticsearch-py.readthedocs.io/en/master/#",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python操作ES"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=r.exports}}]);